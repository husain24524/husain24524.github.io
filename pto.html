<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="style.css">
  <script type="text/javascript" src="script.js"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Al Jamea tus Saifiyah - PTO Demo - Home</title>
  <link rel="icon" type="image/jpg" href="/images/favicon2.PNG">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
   <!-- jQuery, Popper, and Bootstrap JS -->
   <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-T70V9YT0E2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-T70V9YT0E2');
  </script>   

</head>


<body onload="modalDelay()">

 <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href=".">AJSN Awwala Orientation</a>
    <button
      class="navbar-toggler"
      type="button"
      data-toggle="collapse"
      data-target="#navbarNav"
      aria-controls="navbarNav"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="index.html">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" style="color: red;" href="./pto.html" onstouchstart='document.cookie="tr=tr; expires=Thu, 01 Jan 1970 00:00:01 GMT";' onclick='document.cookie="tr=tr; expires=Thu, 01 Jan 1970 00:00:01 GMT";'>Logout</a>
        </li>
      </ul>
    </div>
  </nav>




  
<!-- Iltehaaq Logo -->
<!-- <center><img src="images/logo.PNG" width="35%" style="max-width: 700px;" ></center>-->
<!-- TODO: Add saqafat logo -->


<!-- Modal for new Info -->
<button id="myModalBtn" type="button" class="btn btn-primary hidden" data-toggle="modal" data-target="#myModal"></button>
<div class="modal fade" id="myModal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Login with your Child's TR and ITS</h4>
      </div>
      <div class="modal-body">

      </div>

      <center><div id="trsubmit">
        Enter your Child's TR Number <br><br><input id="tr" type="number" ><br><br>
        Enter your Child's ITS Number <br><br><input id="its" type="number" ><br><br>
      <button id="submittr" type="button" class="btn btn-info" onclick="trr()" >Submit</button><br><br><br>
      <!-- TODO: Alternative to TRR function -->
      </div></center>

      <div class="modal-footer">
        <button type="button" class="btn btn-warning" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>





<!-- TODO: If TR_cookie is not undefined, navbar element "logout" is visible -->




<style>
  a{
    color:bisque
  }
  a:hover{
    color:white
  }
</style>
<script>
    function trr(){
        var tr  = document.getElementById("tr").value;
        var its=document.getElementById("its").value;
        document.cookie="tr="+tr;
        //THE HASHING CIPHER
        // TODO: ADD HASHING TO TR AND ITS
        if (refs[tr]==its){
            console.log("YES")
            alert("User Validated.")
        }
        else{
          alert("Incorrect")
          document.cookie="tr=tr; expires=Thu, 01 Jan 1970 00:00:01 GMT";
        }
            location.reload()
    }
    // TODO: ADD HASHED ITS and TRS
    // TODO: ADD TR AND ITS
    var refs={
        24653:30495513,
        27905:40801147,
        27952:40900552,
        27959:40800467,
        27868:40903610,
        27739:30151135,
        27775:40456895,
        27890:30925384,
        28027:30440242,
        27917:30912545,
        27737:30481257,
        27753:40901251,
        27828:40903202,
        27980:30925642,
        28023:30923859,
        28032:40907411,
        27743:40908810,
        27969:30355993,
        27907:30904503,
    }

</script>


<div id="reports">
<div class="container mt-5 table-responsive">
    <h2 class="text-center">Quran Report</h2>
    <table class="table table-striped table-bordered table-hover table-info">
      <thead>
        <tr>
          <th>Ayat</th>
          <th>Surat</th>
          <th>Page</th>
          <th>Ajzaa</th>
          <th>Murajaat Avg</th>
          <th>FromHifz</th>
          <th>ToHifz</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td></td>
          <td id=surat ></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
      </tbody>
    </table>
  </div>
  <div id="marks" class="container mt-5 table-responsive">
    <h2 class="text-center">Fasl 1 Marks</h2>
    <table  class="table table-striped table-bordered table-hover table-primary">
      <thead>
        <tr>
          <th>Daim</th>
          <th>Hawashi</th>
          <th>Score</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td id="daim"></td>
          <td id="hawashi"></td>
          <td id="percent"></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
  <script>
    var tr  = document.getElementById("tr").value;
    if(getCookie('tr')==undefined){
      document.getElementById("reports").hidden=true;
    }
  </script>
  <script>
    var scores_10={
        "24653":[5,6,4,3,"62%","ذاريات"]
    }
    tr=getCookie("tr")
    document.getElementById("daim").innerHTML=scores_10[tr][0];
    document.getElementById("percent").innerHTML=scores_10[tr][4];
    document.getElementById("surat").innerHTML=scores_10[tr][5];

  </script>
  <script>
  function modalDelay(){
  if (getCookie("tr")==undefined){
    $(document).ready(function(){
        setTimeout(function(){
            $('#myModal').modal('show');
        }, 1200);
    });}
}
  </script>
</body>
</html>

<!-- 1. Collect data
2. Create 4 csvs for 4 classes (TR+Name+Div+Marks+Quran)
3. Convert CSVs into objects hardcoded into page
4. Create Main Page
(Modal to enter TR number and ITS)
(Submit button should verify ITS and TR match, then save cookie_of_TR, display success message alert, then refresh)
(Logout Button to remove cookie of TR if cookie entered)
(create table of quran, with theader and one row of data. each td should have an id assigned to it)
(use script to change each td using id by querying from selected tr data)
(do the same for marks as above) -->
